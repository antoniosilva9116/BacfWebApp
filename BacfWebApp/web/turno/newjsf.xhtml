<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:n="http://java.sun.com/jsf/core"
      xmlns:m="http://java.sun.com/jsf/html">
    <h:head>
        <title>Facelet Title</title>
        <link href="../resources/css/bootjsf.css" rel="stylesheet" />
        <link type="text/css" rel="stylesheet" href="/BacfWebApp/faces/javax.faces.resource/theme.css?ln=primefaces-bootstrap" />

    </h:head>
    <h:body>
        <h:form>

            <b:container>

                <b:jumbotron>
                    <b:container>
                         <h2>Volunt&aacute;rios dispon&iacute;veis. </h2>
                        <p>Selecione os volunt&aacute;rios que pretende adicionar.</p>
                    </b:container>
                        <p:growl id="msg" showDetail="true" escape="false"  sticky="true" />                  


                    <b:row>
                        <b:container>
                                <p:pickList id="PojoPickList" value="#{voluntariosPickListView.voluntarios}" 
                                            var="voluntario" effect="" itemValue="#{voluntario}" 
                                            itemLabel="#{voluntario.nome}" showSourceControls="true" 
                                            showTargetControls="true" showSourceFilter="true" 
                                            showTargetFilter="true" filterMatchMode="contains" >

                                        <f:facet  name="sourceCaption">Dispon&iacute;veis</f:facet>
                                        <f:facet name="targetCaption">Adicionados</f:facet>
                                 
                                        <p:ajax event="transfer" listener="#{voluntariosPickListView.onTransfer}" update="msg" />
                                 
                                        <p:column>
                                                <h:outputText value="#{voluntario.nome}" />
                                            </p:column> 
                                    </p:pickList>
                        </b:container>
                    </b:row>
                     
                    <b:row styleClass="show-grid">
                        <b:column span="3" offset="7">
                                <b:commandButton look="primary" id="pojoSubmit" value=" Guardar " icon="save" update="displayThemes" oncomplete="PF('themesDialog').show()" style="margin-top:15px; margin-left: 15px;" />
                        </b:column>
                         </b:row>
                        <p:dialog modal="true" showEffect="fade" hideEffect="fade" widgetVar="cityDialog" >
                                <h:panelGrid id="displayCities" columns="2">
                                        <h:outputText value="Source: " />
                                         <ui:repeat value="#{voluntariosPickListView.voluntarios.source}" var="voluntario">
                                                <h:outputText value="#{voluntario.nome}"/>
                                            </ui:repeat>
                             
                                        <h:outputText value="Target: " />
                                        <ui:repeat value="#{voluntariosPickListView.voluntarios.target}" var="voluntario">
                                                <h:outputText value="#{voluntario.nome}" />
                                            </ui:repeat>
                                    </h:panelGrid>
                            </p:dialog>
                     
                        <p:dialog modal="true" showEffect="fade" hideEffect="fade" widgetVar="themesDialog" >
                                <h:panelGrid id="displayThemes" columns="2" >
                                        <b:label text="Source "/>
                                        <ui:repeat value="#{voluntariosPickListView.voluntarios.source}" var="voluntario">
                                                <h:outputText value="#{voluntario.nome}" />
                                            </ui:repeat>
                             
                                        <b:label text="Target "/>
                                        <ui:repeat value="#{voluntariosPickListView.voluntarios.target}" var="voluntario">
                                                <h:outputText value="#{voluntario.nome}" />
                                            </ui:repeat>
                                    </h:panelGrid>
                            </p:dialog>
                </b:jumbotron>
            </b:container>
        </h:form>
    </h:body>
</html>

